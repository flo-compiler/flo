import read, write, AF_INET, SOCK_STREAM in "@flo/sys"
import "socket"
import "server"
const MAX_BUFFSIZE = 24000
fnc fetch(url: string, port: int, payload: string): string{
    let mysocket = new Socket(AF_INET, SOCK_STREAM, 0)
    let buffer = new i8*(MAX_BUFFSIZE)
    mysocket.connect(port, url)
    write(mysocket.sockfd, payload.buffer, payload.length)
    let size = read(mysocket.sockfd, buffer, MAX_BUFFSIZE)
    mysocket.close()
    return new string(buffer, size)
}