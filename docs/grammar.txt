

stmts: ln_tok* stmt (newlines stmt)*

newlines: ln_tok+

block: newlines (lbrace_tok stmts rbrace_tok | stmt)

stmt: import_stmt
      | const_kw_declaration
      | type_alias
      | interface_declaration
      | class_kw_declaration
      | if_stmt
      | for_stmt
      | foreach_stmt
      | while_stmt
      | fnc_def_stmt
      | change_flow_stmt
      | expr

      
import_stmt: import_kw (identifier_tok_list from)? string_tok

const_declaration: const_kw identifier_tok eq_tok expr

type_alias: type_kw identifier_tok eq_tok composite_type

class_declaration: class_kw block

if_stmt: if_kw expr block newlines (else_kw (if_stmt | block)) *

for_stmt: for_kw expr (semicolumn_tok expr semicolumn_tok expr) | (in_kw expr) block 


while_stmt: while_kw expr block

fnc_def_stmt: fnc_kw identifier_tok lpar_tok arg_list rpar_tok arrow expr rpar_tok column composite_type block

arg_list: (arg_item (comma_tok arg_item)* (comma_tok dot_dot_dot_tok arg_item)?)?

arg_item: identifier_tok ((column composite_type) 
                     | ((column composite_type)? eq_tok expr))

change_flow_stmt: return expr?
                  | continue
                  | break

expr: bit_expr ((as_kw | is_kw) composite_type)?

bit_expr: comp_expr (("and" | "or" | xor_kw | in_kw | sl_tok | sr_tok) (comp_expr | assign_part))?

comp_expr: exclamation_mark_tok comp_expr 
         | arith_expr (comp_op arith_expr)?

arith_expr: arith_expr1 (( plus | minus ) (arith_expr1 | assign_part))?

arith_expr1: unary_expr ((times_tok | div_tok | mod_tok | exp_tok) (unary_expr | assign_part))?


unary_expr: (plus | minus | amp ) unary_expr
      | (plus_plus_tok | minus_minus_tok) unary_expr
      | unary_expr1

unary_expr1: expr_value_op  (plus_plus_tok | minus_minus_tok)?

expr_list: (expr (comma_tok expr)*)?
expr_value_op: expr_value ((dot identifier_tok) | (lbracket_tok expr lbracket_tok) | (lpar_tok expr_list rpar_tok))* assign_part?
expr_value:   number_tok
            | string_tok
            | identifier_tok
            | rbracket_tok expr lbracket_tok
            | lpar_tok expr (property_acess) rpar_tok
            | new_kw composite_type lpar_tok expr_list? rpar_tok 

assign_part: (column composite_type)? eq_tok expr

fnc_type: lpar_tok (composite_type (comma_tok composite_type)*)? lpar_tok arrow composite_type

composite_type:  prim_type (lbracket_tok expr rbracket_tok)*
            |    prim_type times_tok*
            |    fnc_type

prim_type:
    | "float"
    | "int"
    | "bool"
    | "void"
    | "byte"
    | identifier_tok


## tokens
lpar_tok: "("
rpar_tok: ")"
lbracket_tok: "["
rbracket_tok: "]"
lbrace_tok: "{"
rbrace_tok: "}"
plus: "+"
minus: "-"
eq_tok: "="
times_tok: "*"
div_tok: "/"
exp_tok: "^"
column: ":"
mod_tok: "%"
question_mark_tok: "?"
exclamation_mark_tok: "!"
identifier_tok: ([a-zA-Z]|_)[A-Za-z | 0-9 | _]*
sl_tok: "<<"
sr_tok: ">>"
semicolumn_tok: ";"
comma_tok: ","
ln_tok: "\n"
number_tok: /[0-9]+([0-9]*)+(.?)+([0-9]*)/
string_tok: /"(*?)"/
      | /'(*?)'/
plus_plus_tok: "++"
minus_minus_tok: "--"
dot: "."
amp: &
dot_dot: ".."
dot_dot_dot_tok: "..."



## keywords 
if_kw: "if"
else_kw: "else"
for_kw: "for"
while_kw: "while"
fnc_kw: "fnc"
import_kw: "import"
in_kw: "in"
const_kw: "const"
class_kw: "class"
new_kw: "new"
type_kw: "type"
xor_kw: "xor"
as_kw: "as"
is_kw: "is"
          

comp_op: ">"
       | "<"
       | "=="
       | ">="
       | "<="
       | "!="


