import read, write, AF_INET, SOCK_STREAM, perror, malloc from "../sys"
import "./socket.flo"
const MAX_BUFFSIZE = 24000
fnc fetch(url: string, port: int, payload: string): string{
    mysocket = new Socket(AF_INET, SOCK_STREAM, 0)
    buffer = malloc(MAX_BUFFSIZE)
    mysocket.connect(port, url)
    write(mysocket.sockfd, payload.buffer, payload.length)
    size = read(mysocket.sockfd, buffer, MAX_BUFFSIZE)
    mysocket.close()
    return new string(buffer, size)
}